{"id":"lm-0pb","title":"MVP: Liquid Mail (Honcho-only CLI)","description":"## Goal\nShip a minimal CLI-only agent mail system built on Honcho primitives (messages + metadata + search + summaries + chat).\n\n## Plan Reference\n- docs/liquid-mail-complete-plan.md\n\n## Scope (MVP)\n- Commands: post, summarize, query, decisions, notify (+ schema/topics utilities)\n- Topics as Honcho sessions\n- Decisions-as-messages indexing\n- Conflict blocking via search → shortlist → chat classify\n- JSON-first output w/ robust TTY auto-switch\n\n## Non-Goals (for MVP)\n- Local storage (no SQLite/Git state beyond config)\n- Complex daemons or watchers (notify is pull-based)\n","status":"open","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:07.778773-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:07.778773-07:00"}
{"id":"lm-0pb.1","title":"M0: Foundation","description":"## Goal\nEstablish project baseline: plan, repo scaffold, type-safe CLI skeleton, tests, and bd tracking.\n\n## Deliverables\n- Updated plan (v1.1) with applied simplifications\n- Bun/TS scaffold + minimal CLI router\n- Unit tests for dominance algorithm\n- bd initialized for issue tracking\n","status":"closed","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:14.348846-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:53:14.721871-07:00","closed_at":"2026-02-02T15:53:14.721871-07:00","close_reason":"All children completed","dependencies":[{"issue_id":"lm-0pb.1","depends_on_id":"lm-0pb","type":"parent-child","created_at":"2026-02-02T15:52:14.349397-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.1.1","title":"Archive original plan (v1.0)","description":"## Summary\nCopy the original plan from /private/tmp into the repo for reference.\n\n## Plan References\n- docs/archive/liquid-mail-complete-plan-v1.0.0.md\n\n## Acceptance\n- docs/archive/liquid-mail-complete-plan-v1.0.0.md exists in-repo\n","status":"closed","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:44.12381-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:47.36304-07:00","closed_at":"2026-02-02T15:52:47.36304-07:00","close_reason":"Closed","dependencies":[{"issue_id":"lm-0pb.1.1","depends_on_id":"lm-0pb.1","type":"parent-child","created_at":"2026-02-02T15:52:44.124412-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.1.2","title":"Revise plan with simplifications + code-forward blueprint","description":"## Summary\nIncorporate minimalism-focused changes (summaries via Honcho, dominance threshold, decisions-as-messages, conflict flow) and expand Part 9 with concrete specs.\n\n## Plan References\n- docs/liquid-mail-complete-plan.md\n\n## Acceptance\n- Plan includes Part 0 feedback review\n- Part 9 includes minimal Honcho v3 API surface + config example + command specs\n","status":"closed","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:52.040611-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:55.524649-07:00","closed_at":"2026-02-02T15:52:55.524649-07:00","close_reason":"Closed","dependencies":[{"issue_id":"lm-0pb.1.2","depends_on_id":"lm-0pb.1","type":"parent-child","created_at":"2026-02-02T15:52:52.041142-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.1.3","title":"Initialize Bun/TS scaffold + bd tracking","description":"## Summary\nBootstrap the repo with a Bun/TypeScript CLI skeleton, tests, and bd (beads) tracking.\n\n## Deliverables\n- Bun project scaffold (src/, tests/, build script)\n- bun-types installed so `bun run typecheck` works\n- bd initialized with prefix lm-\n\n## Acceptance\n- `bun test` passes\n- `bun run typecheck` passes\n- `bd status` works in repo\n","status":"closed","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:53:04.08888-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:53:07.166472-07:00","closed_at":"2026-02-02T15:53:07.166472-07:00","close_reason":"Closed","dependencies":[{"issue_id":"lm-0pb.1.3","depends_on_id":"lm-0pb.1","type":"parent-child","created_at":"2026-02-02T15:53:04.089412-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2","title":"M1: Honcho API Layer","description":"## Goal\nImplement a minimal, typed wrapper around the Honcho v3 endpoints Liquid Mail needs.\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#part-9-implementation-blueprint-v11\n\n## Deliverables\n- src/honcho/types.ts with small response/request shapes\n- src/honcho/client.ts endpoint helpers:\n  - searchWorkspace\n  - getOrCreateSession\n  - createMessagesForSession\n  - getSessionSummaries\n  - chatPeer\n- Tests with mocked fetch for error mapping + happy paths\n","status":"open","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:20.256484-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:20.256484-07:00","dependencies":[{"issue_id":"lm-0pb.2","depends_on_id":"lm-0pb","type":"parent-child","created_at":"2026-02-02T15:52:20.257047-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2.1","title":"Define minimal Honcho v3 types","description":"## Summary\nDefine small, explicit request/response shapes for the Honcho v3 endpoints Liquid Mail uses.\n\n## Scope\n- Workspace search (query + filters + limit)\n- Sessions: get-or-create, list\n- Messages: create\n- Summaries: get session summaries\n- Chat: peer chat (non-streaming)\n\n## Acceptance\n- Types cover: search, get-or-create session, list sessions, create messages, get summaries, chat\n- Search filter shape includes metadata filters (for lm.kind=decision)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:53:25.002142-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:19:02.106177-07:00","dependencies":[{"issue_id":"lm-0pb.2.1","depends_on_id":"lm-0pb.2","type":"parent-child","created_at":"2026-02-02T15:53:25.002714-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2.2","title":"Implement Honcho API helpers","description":"## Summary\nImplement typed helpers on top of HonchoClient for the minimal v3 endpoints Liquid Mail needs.\n\n## Endpoints\n- POST /v3/workspaces/{workspace_id}/search\n- POST /v3/workspaces/{workspace_id}/sessions (get-or-create)\n- GET /v3/workspaces/{workspace_id}/sessions/list\n- POST /v3/workspaces/{workspace_id}/sessions/{session_id}/messages\n- GET /v3/workspaces/{workspace_id}/sessions/{session_id}/summaries\n- POST /v3/workspaces/{workspace_id}/peers/{peer_id}/chat\n\n## Acceptance\n- Each helper has narrow input/output types\n- Helper defaults match plan (limit, filters, non-stream chat)\n- Errors map to LmError codes consistently\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:53:32.809552-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:19:08.453439-07:00","dependencies":[{"issue_id":"lm-0pb.2.2","depends_on_id":"lm-0pb.2","type":"parent-child","created_at":"2026-02-02T15:53:32.810108-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.2.2","depends_on_id":"lm-0pb.2.1","type":"blocks","created_at":"2026-02-02T15:53:37.415038-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2.3","title":"Add Honcho client tests (mocked fetch)","description":"## Summary\nAdd unit tests for Honcho client wrapper and error mapping without requiring real Honcho credentials.\n\n## Approach\n- Mock global fetch\n- Verify JSON parsing, status handling, and LmError mapping\n\n## Acceptance\n- Tests run via `bun test`\n- Covers non-JSON error bodies and JSON error bodies\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:53:42.50653-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:53:42.50653-07:00","dependencies":[{"issue_id":"lm-0pb.2.3","depends_on_id":"lm-0pb.2","type":"parent-child","created_at":"2026-02-02T15:53:42.507087-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.2.3","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:53:49.405764-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2.4","title":"Add list sessions helper","description":"## Summary\nAdd a helper for listing sessions so `liquid-mail topics` can exist without scraping/search hacks.\n\n## Endpoint\n- GET /v3/workspaces/{workspace_id}/sessions/list\n\n## Acceptance\n- Returns typed session list with ids + metadata\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:54:25.096806-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:54:25.096806-07:00","dependencies":[{"issue_id":"lm-0pb.2.4","depends_on_id":"lm-0pb.2","type":"parent-child","created_at":"2026-02-02T15:54:25.097365-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.2.4","depends_on_id":"lm-0pb.2.1","type":"blocks","created_at":"2026-02-02T15:54:29.545437-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.2.5","title":"Add search filter helper (metadata + session)","description":"## Summary\nAdd a small helper that builds Honcho search filters for common Liquid Mail cases.\n\n## Use cases\n- Filter by session_id (topic)\n- Filter by metadata (e.g., lm.kind=decision)\n- Combine multiple filters deterministically\n\n## Acceptance\n- Helper is used by `decisions`, `conflicts`, and `notify`\n- Filters are stable across commands (no ad-hoc JSON blobs)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T16:19:14.777442-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:19:14.777442-07:00","dependencies":[{"issue_id":"lm-0pb.2.5","depends_on_id":"lm-0pb.2","type":"parent-child","created_at":"2026-02-02T16:19:14.778056-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.2.5","depends_on_id":"lm-0pb.2.1","type":"blocks","created_at":"2026-02-02T16:19:22.176662-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3","title":"M2: Core CLI Commands","description":"## Goal\nImplement the user-facing CLI commands on top of the Honcho API layer.\n\n## Commands\n- post\n- summarize\n- query\n- decisions\n- notify\n- topics (utility)\n- schema (already exists)\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#decision-15-four-core-commands-only\n- docs/liquid-mail-complete-plan.md#part-9-implementation-blueprint-v11\n","status":"open","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:25.053835-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:25.053835-07:00","dependencies":[{"issue_id":"lm-0pb.3","depends_on_id":"lm-0pb","type":"parent-child","created_at":"2026-02-02T15:52:25.054412-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.1","title":"Implement summarize command","description":"## Summary\nAdd `liquid-mail summarize --topic \u003cid\u003e` that returns Honcho short+long summaries.\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#decision-7-summaries-via-honcho\n\n## Acceptance\n- JSON output includes short_summary + long_summary + created_at\n- Text output prints short then long (human-friendly)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:53:58.825374-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:53:58.825374-07:00","dependencies":[{"issue_id":"lm-0pb.3.1","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T15:53:58.825948-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.1","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:54:02.395284-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.2","title":"Implement query command (workspace search)","description":"## Summary\nAdd `liquid-mail query` powered by Honcho workspace search.\n\n## Behavior\n- `--topic \u003cid\u003e` optional to narrow results\n- `--limit` for K\n- Supports `--filters \u003cjson\u003e` for advanced use (optional, power users)\n\n## Acceptance\n- Uses shared search filter helper for session scope\n- Supports `--json` + `--text` output\n- Returns result list with session/topic id + message content snippet\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:54:06.869734-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:19:49.796247-07:00","dependencies":[{"issue_id":"lm-0pb.3.2","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T15:54:06.870298-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.2","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:54:10.517828-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.2","depends_on_id":"lm-0pb.2.5","type":"blocks","created_at":"2026-02-02T16:19:26.270017-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.3","title":"Implement topics command (list sessions)","description":"## Summary\nAdd `liquid-mail topics` to list Honcho sessions (topics).\n\n## Honcho Endpoint\n- GET /v3/workspaces/{workspace_id}/sessions/list\n\n## Acceptance\n- Supports `--limit` + `--json`/`--text`\n- Text output shows topic id + optional metadata\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:54:18.0083-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:54:18.0083-07:00","dependencies":[{"issue_id":"lm-0pb.3.3","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T15:54:18.008851-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.3","depends_on_id":"lm-0pb.2.4","type":"blocks","created_at":"2026-02-02T15:54:35.426981-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.4","title":"Implement decisions command (metadata-filtered search)","description":"## Summary\nAdd `liquid-mail decisions` to list/search decision messages created by the system peer.\n\n## Behavior\n- Default: list recent decision messages\n- Optional `--topic` narrows to a single session\n- Optional `--limit` for K\n\n## Acceptance\n- Uses shared search filter helper (metadata lm.kind=decision)\n- JSON output returns decision_id + source_message_id + content\n- Text output shows DECISION lines + ids for quick scan\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:54:40.858462-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:19:56.087813-07:00","dependencies":[{"issue_id":"lm-0pb.3.4","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T15:54:40.859049-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.4","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:54:44.12001-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.4","depends_on_id":"lm-0pb.2.5","type":"blocks","created_at":"2026-02-02T16:19:30.755222-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.5","title":"Wire post command to Honcho (basic)","description":"## Summary\nReplace the current `post` stub with a real Honcho call that posts the message to the resolved topic/session.\n\n## Behavior (Phase 1)\n- Require --topic (until auto-topic orchestration is wired)\n- Create message in session with peer_id = --agent-id or default\n- Allow stdin piping for message body\n\n## Acceptance\n- `liquid-mail post --topic \u003cid\u003e \"hi\"` performs POST /sessions/{id}/messages\n- Errors are robot-mode JSON (LmError) with consistent exit codes\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:54:52.409471-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:20:13.519167-07:00","dependencies":[{"issue_id":"lm-0pb.3.5","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T15:54:52.410045-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.5","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:54:57.228146-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.6","title":"Implement auto-topic resolution + get-or-create","description":"## Summary\nImplement the dominance-based auto-topic flow and session creation.\n\n## Flow\n1) Search workspace for message text (limit K)\n2) Compute dominance by session_id\n3) If dominance \u003e= threshold \u0026 min_hits met: choose topic\n4) Else: create new session (if auto_create) or require --topic\n5) If topics.max_active is set: enforce cap before creating a new topic\n\n## Acceptance\n- Uses existing chooseTopicFromMatches\n- Honors config: detection_enabled, auto_create, threshold, K, min_hits, max_active\n- Returns deterministic decision object for logging/JSON output\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T16:20:02.894458-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:25:22.877627-07:00","dependencies":[{"issue_id":"lm-0pb.3.6","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T16:20:02.895101-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.3.7","title":"Add topic cap + consolidation policy","description":"## Summary\nIntroduce a configurable cap on active topics (sessions) and define a deterministic consolidation policy to stay under the cap.\n\n## Default Strategy (MVP)\n- **Merge into a new topic ID** when cap exceeded.\n- Old topics remain intact and are linked/redirected from the new merged topic.\n\n## Proposed Config\n- topics.max_active (integer or null for unlimited)\n- topics.consolidation_strategy: \"merge\" | \"archive\" | \"summarize\" (default: merge)\n\n## Merge Policy (MVP)\n- Use model‑driven selection based on **short summaries only**.\n- Prompt the model to select which topics should merge; require strict JSON output.\n- Create new topic/session with metadata:\n  - lm.kind = \"topic_merge\"\n  - lm.merged_from = [old_topic_ids]\n- Emit system message in each old topic pointing to new topic.\n\n## Acceptance\n- Cap enforced when creating new topic\n- Deterministic selection (bounded retries + strict JSON)\n- Clear user‑visible reason in JSON output when cap triggers merge\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T16:25:06.020823-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:33:32.995723-07:00","dependencies":[{"issue_id":"lm-0pb.3.7","depends_on_id":"lm-0pb.3","type":"parent-child","created_at":"2026-02-02T16:25:06.021866-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.3.7","depends_on_id":"lm-0pb.2.4","type":"blocks","created_at":"2026-02-02T16:25:17.044298-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4","title":"M3: Decisions + Conflict Blocking","description":"## Goal\nCapture decisions as first-class artifacts and block contradictory decisions deterministically.\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#decision-9-decisions-as-messages\n- docs/liquid-mail-complete-plan.md#decision-8-conflict-detection-blocking\n\n## Deliverables\n- Decision extraction prompt + strict JSON parsing\n- Decisions-as-messages indexing (system peer + metadata + idempotency)\n- Conflict preflight: search → shortlist → chat classify → block unless --yes\n","status":"open","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:32.612531-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:32.612531-07:00","dependencies":[{"issue_id":"lm-0pb.4","depends_on_id":"lm-0pb","type":"parent-child","created_at":"2026-02-02T15:52:32.61306-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4.1","title":"Implement decision detection heuristic","description":"## Summary\nImplement a deterministic, low-false-positive way to decide when a post should trigger decision hooks.\n\n## MVP Rules\n- If `--decision` flag is set → decision-bearing\n- Else if message contains a line starting with `DECISION:` → decision-bearing\n- Else if config `conflicts.decisions_only=false` → allow heuristic extraction (deferred)\n\n## Acceptance\n- Utility function returns boolean + extracted decision candidates (if any)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:55:11.47035-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:55:11.47035-07:00","dependencies":[{"issue_id":"lm-0pb.4.1","depends_on_id":"lm-0pb.4","type":"parent-child","created_at":"2026-02-02T15:55:11.470958-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4.2","title":"Implement decision extraction via chat (strict JSON)","description":"## Summary\nUse Honcho chat/dialectic to extract decision statements and return strict JSON.\n\n## Deliverables\n- src/decisions/extract.ts\n- Prompt template + strict JSON schema validation (reject non-conforming output)\n\n## Acceptance\n- Given input text, returns { decisions: string[] }\n- Handles empty/no decisions deterministically\n- Includes retry logic for malformed model output (bounded)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:55:17.115589-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:20:19.701523-07:00","dependencies":[{"issue_id":"lm-0pb.4.2","depends_on_id":"lm-0pb.4","type":"parent-child","created_at":"2026-02-02T15:55:17.116142-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.2","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:55:44.933943-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4.3","title":"Index decisions as messages (system peer + metadata + idempotency)","description":"## Summary\nPost extracted decisions back into the same topic as normal messages authored by the system peer.\n\n## Deliverables\n- src/decisions/index.ts\n- Stable metadata:\n  - lm.schema_version\n  - lm.kind = decision\n  - lm.source_message_id\n  - lm.decision_id (stable hash)\n\n## Acceptance\n- Retrying indexing does not duplicate (idempotent via source_message_id)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:55:25.197397-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:55:25.197397-07:00","dependencies":[{"issue_id":"lm-0pb.4.3","depends_on_id":"lm-0pb.4","type":"parent-child","created_at":"2026-02-02T15:55:25.202941-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.3","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:55:49.273959-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4.4","title":"Implement conflict preflight (search → shortlist → chat classify)","description":"## Summary\nBefore posting a decision, detect conflicts against prior decision messages in the same topic and block unless `--yes`.\n\n## Flow\n1) Search prior decision messages in topic (metadata filter)\n2) Shortlist top N (configurable limit)\n3) Send proposed + shortlist to chat/dialectic\n4) Parse strict JSON response\n5) If any conflict \u003e= threshold → block (unless --yes)\n\n## Deliverables\n- src/conflicts/check.ts\n\n## Acceptance\n- Deterministic block decision based on confidence threshold\n- Respects shortlist limit to control cost\n- Emits robot-mode error JSON with rationale + suggested_action\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:55:31.047497-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:20:28.118848-07:00","dependencies":[{"issue_id":"lm-0pb.4.4","depends_on_id":"lm-0pb.4","type":"parent-child","created_at":"2026-02-02T15:55:31.04823-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.4","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:55:53.619557-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.4","depends_on_id":"lm-0pb.2.5","type":"blocks","created_at":"2026-02-02T16:19:35.44299-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.4.5","title":"Integrate decisions + conflicts into post flow","description":"## Summary\nUpgrade `post` to the full MVP flow: auto-topic (optional), conflict preflight, post, idempotent decision extraction/indexing.\n\n## Post Order (atomic where it matters)\n1) Resolve topic (explicit or auto-topic)\n2) If decision-bearing: conflict preflight (block)\n3) Post main message\n4) Best-effort: extract + index decisions\n\n## Acceptance\n- Conflicts block before main post\n- Indexing is safe to retry (no duplicates)\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:55:36.703757-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:55:36.703757-07:00","dependencies":[{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.4","type":"parent-child","created_at":"2026-02-02T15:55:36.704251-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.4.1","type":"blocks","created_at":"2026-02-02T15:55:58.442218-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.4.3","type":"blocks","created_at":"2026-02-02T15:56:03.258203-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.4.4","type":"blocks","created_at":"2026-02-02T15:56:06.744334-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.3.5","type":"blocks","created_at":"2026-02-02T15:56:11.09742-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.4.2","type":"blocks","created_at":"2026-02-02T15:56:15.722784-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.4.5","depends_on_id":"lm-0pb.3.6","type":"blocks","created_at":"2026-02-02T16:20:07.789687-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.5","title":"M4: Notify MVP + Polish","description":"## Goal\nDeliver context-based notifications (pull-based) and polish the UX (docs, examples, packaging).\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#decision-10-context-based-notifications\n\n## Deliverables\n- notify command that produces ranked “needs attention” items for an agent\n- Documentation + examples + multi-agent demo\n- Packaging: bun build --compile outputs dist/liquid-mail\n","status":"open","priority":2,"issue_type":"epic","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:52:37.254002-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:52:37.254002-07:00","dependencies":[{"issue_id":"lm-0pb.5","depends_on_id":"lm-0pb","type":"parent-child","created_at":"2026-02-02T15:52:37.254695-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.5.1","title":"Implement notify command (MVP)","description":"## Summary\nImplement `liquid-mail notify` to produce context-based, ranked notifications for an agent.\n\n## MVP Inputs\n- `--agent-id \u003cpeer\u003e`\n- optional: `--since \u003ctimestamp\u003e`\n\n## MVP Ranking Signals (no LLM)\n- Recent decision messages\n- Session summaries (short)\n- Mentions of agent-id or responsibility keywords (heuristic)\n\n## Acceptance\n- Deterministic JSON output list: [{topic_id, reason, excerpt, confidence}]\n- No chat/dialectic calls in MVP\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:56:22.003701-07:00","created_by":"ratacat","updated_at":"2026-02-02T16:20:34.044534-07:00","dependencies":[{"issue_id":"lm-0pb.5.1","depends_on_id":"lm-0pb.5","type":"parent-child","created_at":"2026-02-02T15:56:22.004349-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.5.1","depends_on_id":"lm-0pb.2.2","type":"blocks","created_at":"2026-02-02T15:56:26.96008-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.5.1","depends_on_id":"lm-0pb.2.5","type":"blocks","created_at":"2026-02-02T16:19:42.055239-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.5.2","title":"Add docs: progressive disclosure + AGENTS snippets","description":"## Summary\nAdd short, copy-pastable documentation for agents and humans (quickstart → advanced).\n\n## Plan References\n- docs/liquid-mail-complete-plan.md#decision-20-progressive-disclosure\n\n## Acceptance\n- README includes quickstart\n- Add an AGENTS.md snippet recommending `liquid-mail post` patterns\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:56:32.432894-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:56:32.432894-07:00","dependencies":[{"issue_id":"lm-0pb.5.2","depends_on_id":"lm-0pb.5","type":"parent-child","created_at":"2026-02-02T15:56:32.433482-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.5.3","title":"Create multi-agent demo script","description":"## Summary\nAdd a simple demo that simulates multiple agents posting decisions and triggering conflicts.\n\n## Acceptance\n- Script runs end-to-end with real Honcho creds\n- Demonstrates: post → decisions indexing → conflict blocking\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:56:39.955035-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:56:39.955035-07:00","dependencies":[{"issue_id":"lm-0pb.5.3","depends_on_id":"lm-0pb.5","type":"parent-child","created_at":"2026-02-02T15:56:39.955591-07:00","created_by":"ratacat"},{"issue_id":"lm-0pb.5.3","depends_on_id":"lm-0pb.4.5","type":"blocks","created_at":"2026-02-02T15:56:47.887894-07:00","created_by":"ratacat"}]}
{"id":"lm-0pb.5.4","title":"Add one-touch install + compiled binary packaging","description":"## Summary\nAdd a minimal install story and ensure `bun build --compile` produces a working binary.\n\n## Acceptance\n- `bun run build` emits dist/liquid-mail\n- Document installation + config via env/TOML\n","status":"open","priority":2,"issue_type":"task","owner":"neuralslash@gmail.com","created_at":"2026-02-02T15:56:53.2983-07:00","created_by":"ratacat","updated_at":"2026-02-02T15:56:53.2983-07:00","dependencies":[{"issue_id":"lm-0pb.5.4","depends_on_id":"lm-0pb.5","type":"parent-child","created_at":"2026-02-02T15:56:53.298827-07:00","created_by":"ratacat"}]}
